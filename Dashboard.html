<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" type="text/css" href="template.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script type="text/javascript">google.load("jquery", "1.3.2");</script>
    <script type="text/javascript">

        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawTempDonut);
        google.charts.setOnLoadCallback(drawpHDonut);
        google.charts.setOnLoadCallback(drawOTwoDonut);

        function drawTempDonut() {

            var data = google.visualization.arrayToDataTable([
                ['temperature', 'percentage'],
                ['20°C',     20],
                ['37°C',     50],
                ['40°C',     30],
                ['45°C',     30]
            ]);

            var options = {
                pieHole: 0.4,
                pieSliceTextStyle: {
                    color:'black'
                },
                legend: 'right',
                'figure':'My Big Pie Chart',
                'width':700,
                'height':500,
                'left': 200
            };

            options.chartArea = { left: '50%', top: '8%'};

            var chart = new google.visualization.PieChart(document.getElementById('temperature_donut'));
            chart.draw(data, options);
        }

        function drawpHDonut() {

            var data = google.visualization.arrayToDataTable([
                ['ph', 'percentage'],
                ['20°C',     20]
            ]);

            var options = {
                pieHole: 0.4,
                pieSliceTextStyle: {
                    color:'black'
                },
                legend: 'right',
                'figure':'My Big Pie Chart',
                'width':700,
                'height':500,
                'left': 200
            };

            options.chartArea = { left: '50%', top: '8%'};

            var chart = new google.visualization.PieChart(document.getElementById('ph_donut'));
            chart.draw(data, options);
        }

        function drawOTwoDonut() {

            var data = google.visualization.arrayToDataTable([
                ['temperature', 'percentage'],
                ['20°C',     20],
                ['37°C',     50],
                ['40°C',     30]
            ]);

            var options = {
                pieHole: 0.4,
                pieSliceTextStyle: {
                    color:'black'
                },
                legend: 'right',
                'figure':'My Big Pie Chart',
                'width':700,
                'height':500,
                'left': 200
            };

            options.chartArea = { left: '50%', top: '8%'};

            var chart = new google.visualization.PieChart(document.getElementById('o_two_donut'));
            chart.draw(data, options);
        }


        // ChangeGraph will return the div IDs to manipulate which graph to view
        function changeGraph(graphToShowDivID){
            // graphsToHide : array : IDs of graphs to hide
            // graphsToShow : string : ID of graph to show

            var graphIDNames = ["#o_two_donut","#ph_donut","#temperature_donut"];
            var graphsToHide = [];
            var graphToShow = "";

            for(var i=0; i< graphIDNames.length; i++){
                if(graphToShowDivID === graphIDNames[i]){
                    graphToShow = graphIDNames[i]
                }else{
                    graphsToHide.push(graphIDNames[i])
                }
            }

            return{
                graphsToHide : graphsToHide,
                graphToShow : graphToShow
            }
        }

        $(document).ready(function(){

            $("#ph_donut").hide();
            $("#o_two_donut").hide();

            $("#button-temp").click(function(){
                var graphInfo = changeGraph("#temperature_donut");

                var graphsToHide = graphInfo.graphsToHide;
                var graphToShow = graphInfo.graphToShow;

                for (var i = 0; i< graphsToHide.length; i++){
                    $(graphsToHide[i]).hide();
                }
                $(graphToShow).show();

                $("#applications-description").text("Considering the increasing frequency of natural disasters, having a cheap and immediate way to generate structures could be used to temporarily shelter people, seal leaks, or bridge over flooded areas. Microorganisms can be also engineered to simultaneously detect and/or feed off hazardous waste and help clean up septic systems.");
                
            });

            $("#button-pH").click(function(){
                var graphInfo = changeGraph("#ph_donut");

                var graphsToHide = graphInfo.graphsToHide;
                var graphToShow = graphInfo.graphToShow;

                for (var i = 0; i< graphsToHide.length; i++){
                    $(graphsToHide[i]).hide()
                }
                $(graphToShow).show();

                $("#applications-description").text("Barchitecture could also facilitate space exploration as currently significant trade-offs are made for the amount of necessary materials and equipment to be transported in outer space due to monetary and fuel considerations. Microbial biomining of silicates and metal oxides from Lunar regolith is an ongoing research area that aims to facilitate the manufacturing of circuits and spaceship components on the Moon. Barchitecture could facilitate this process by using bacteria to not only harvest silicates and produce and secrete biosilica but also form desired structures and bind biosilica to grow semiconductors and circuit boards.");
            });

            $("#button-O2").click(function(){
                var graphInfo = changeGraph("#o_two_donut");

                var graphsToHide = graphInfo.graphsToHide;
                var graphToShow = graphInfo.graphToShow;

                for (var i = 0; i< graphsToHide.length; i++){
                    $(graphsToHide[i]).hide()
                }

                $(graphToShow).show();

                $("#applications-description").text("The production of small scale devices with medical applications also derives from our ability to grow structures from bacteria. Biopolymers, such as PHB, have a wide range of applications (agriculture films, safe materials for toys and packaging, feedstock additives). Via accurate light control, PHB-based medical implants can be produced, such as biocompatible veins and bronchus. See here the outcomes of our conversation with Blue Alpha - a company producing PHB from bacteria.");
            });

        });



    </script>

    <style>
        #applications-description {
            position: relative;
            max-width: 90%;
            font-size: 1.5vw !important;
            text-align: justify !important;
            font-family: Raleway !important;
            padding: 15% 12% 10px 10%;
            margin: 0 0 0 90px;
        }

        .buttons-here {
            border:none;
            margin:0 0 5% 35%;
            background-color: transparent;
        }

        .overlay-buttons-here {
            position: absolute;
            margin:1% 0 0 25% !important;
            background-color: transparent;
            border:none;
        }

    </style>
</head>
<body>
<div class="navbar">
    <ul>
        <li><menu href="home.asp">Home</menu></li>
        <li><menu href="about.asp">About Us</menu></li>
        <li><menu href="dashboard.asp">Dashboard</menu></li>
        <li><menu href="contact.asp">Contact</menu></li>
    </ul>
    <div class="diamond">
        <h1 class="title" style="margin-left: 100px; font-size: 30px">RUBY</h1>
    </div>
</div>

<div class="container">
    <div class="row">
        <h1 class="title" style="padding-bottom: 30px">Dashboard</h1>
        <div class="col-sm-2">
            <button id="button-temp" type="button" class="btn btn-lg buttons" style="margin: 100px 0 0 0">
                <span class="text-buttons">T</span>
            </button>
        </div>
        <div class="col-sm-2">
            <button id="button-pH" type="button" class="btn btn-lg buttons" style="margin: 300px 0 0 -198px">
                <span class="text-buttons">pH</span>
            </button>
        </div>
        <div class="col-sm-2">
            <button id="button-O2" type="button" class="btn btn-lg buttons" style="margin: 500px 0 0 -398px">
                <span class="text-buttons">O<sub>2</sub></span>
            </button>
        </div>
        <div style="float: inherit; width:100%; margin: 0 0 0 30px; height:auto; overflow: scroll !important;" class="col-sm-12">
            <p id="applications-description" style="margin-top: 0">Considering the increasing frequency of natural disasters, having a cheap and immediate way to generate structures could be used to temporarily shelter people, seal leaks, or bridge over flooded areas. Microorganisms can be also engineered to simultaneously detect and/or feed off hazardous waste and help clean up septic systems.</p>
            <div class="chart" id="temperature_donut"></div>
            <div class="chart" id="ph_donut"></div>
            <div class="chart" id="o_two_donut"></div>
        </div>
    </div>
</div>
</body>
</html>